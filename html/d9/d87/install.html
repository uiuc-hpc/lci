<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LCI: Install LCI</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LCI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/d87/install.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Install LCI</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Although CMake FetchContent is convenient, you may also want to install LCI on your systems.</p>
<h2>Prerequisites</h2>
<ul>
<li>A Linux or MacOS laptop or cluster.</li>
<li>A C++ compiler that supports C++17 or higher (GCC 8 or higher, Clang 5 or higher, etc).</li>
<li>CMake 3.12 or higher.</li>
<li>A network backend that supports LCI. Currently, LCI supports:<ul>
<li><a href="https://github.com/linux-rdma/rdma-core/blob/master/Documentation/libibverbs.md">libibverbs</a>. Typically for Infiniband/RoCE.</li>
<li><a href="https://ofiwg.github.io/libfabric/">libfabric</a>. For Slingshot-11, Ethernet, shared memory (including laptop), and other networks.</li>
</ul>
</li>
</ul>
<p>Normal clusters should already have these installed (you may need a few <code>module load</code>). If you are using a laptop, you may need to install cmake and libfabric manually.</p><ul>
<li>For Ubuntu, you can install the prerequisites using: <div class="fragment"><div class="line">sudo apt-get install -y cmake libfabric-bin libfabric-dev</div>
</div><!-- fragment --></li>
<li>For MacOS, you can install the prerequisites using: <div class="fragment"><div class="line">brew install cmake libfabric</div>
</div><!-- fragment --></li>
</ul>
<h2>With CMake</h2>
<h3>Install LCI on your laptop</h3>
<div class="fragment"><div class="line">git clone https://github.com/uiuc-hpc/lci.git</div>
<div class="line">cd lci</div>
<div class="line">mkdir build</div>
<div class="line">cmake -DCMAKE_INSTALL_PREFIX=/path/to/install -DLCI_NETWORK_BACKENDS=ofi ..</div>
<div class="line">make</div>
<div class="line">make install</div>
</div><!-- fragment --><h3>Install LCI on a cluster</h3>
<div class="fragment"><div class="line">git clone https://github.com/uiuc-hpc/lci.git</div>
<div class="line">cd lci</div>
<div class="line">mkdir build</div>
<div class="line">cmake -DCMAKE_INSTALL_PREFIX=/path/to/install ..</div>
<div class="line">make</div>
<div class="line">make install</div>
</div><!-- fragment --><p> Basically the same as installing LCI on your laptop, but you don't need to install pre-requisites because they are already installed on the cluster. You also don't need to manually select the network backend because LCI will automatically select the best one for you.</p>
<h3>Important CMake variables</h3>
<ul>
<li><code>LCI_DEBUG=[ON|OFF]</code>: Enable/disable the debug mode (more assertions and logs). The default value is <code>OFF</code>.</li>
<li><code>LCI_NETWORK_BACKENDS=[ibv|ofi]</code>: allow multiple values separated with comma. Hint to which network backend to use. If the backend indicated by this variable are found, LCI will just use it. Otherwise, LCI will use whatever are found with the priority <code>ibv</code> &gt; <code>ofi</code>. The default value is <code>ibv,ofi</code>. Typically, you don't need to modify this variable as if <code>libibverbs</code> presents, it is likely to be the recommended one to use.<ul>
<li><code>ibv</code>: <a href="https://github.com/linux-rdma/rdma-core/blob/master/Documentation/libibverbs.md">libibverbs</a>, typically for infiniband/RoCE.</li>
<li><code>ofi</code>: <a href="https://ofiwg.github.io/libfabric/">libfabric</a>, for all other networks (slingshot-11, ethernet, shared memory).</li>
</ul>
</li>
</ul>
<h2>With Spack</h2>
<p>LCI can be installed using <a href="https://spack.io/">Spack</a>. An LCI recipe has been included in the Spack official repository. For the most up-to-date version, you can also use the recipe in the <code>contrib/spack</code> directory of the LCI repository. To install LCI using Spack, run the following commands:</p>
<div class="fragment"><div class="line"># Assume you have already installed Spack</div>
<div class="line"># Optional: add the LCI spack recipe from the LCI repository</div>
<div class="line">git clone https://github.com/uiuc-hpc/lci.git</div>
<div class="line">spack repo add lci/contrib/spack</div>
<div class="line">spack install lci</div>
</div><!-- fragment --><h3>Important Spack variables</h3>
<ul>
<li><code>debug</code>: define the CMake variable <code>LCI_DEBUG</code>.</li>
<li><code>backend=[ibv|ofi]</code>: define the CMake variable <code>LCI_NETWORK_BACKENDS</code>. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/dd8/_tutorials.html">Tutorials</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
